
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Share devices Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Share.html" />
    
    
    <link rel="prev" href="Device.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Overview.html">
            
                <a href="Overview.html">
            
                    
                    Function Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Integrated.html">
            
                <a href="Integrated.html">
            
                    
                    Initiate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="User.html">
            
                <a href="User.html#user-management">
            
                    
                    User management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="User.html">
            
                <a href="User.html#use-mobile-phone-for-login">
            
                    
                    Use Mobile Phone for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="User.html">
            
                <a href="User.html#use-email-for-login">
            
                    
                    Use Email for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="User.html">
            
                <a href="User.html#modify-user-avatar">
            
                    
                    Modify User Info
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="User.html">
            
                <a href="User.html#logout">
            
                    
                    Logout, Disable Account
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="User.html">
            
                <a href="User.html#handling-of-expired-session">
            
                    
                    Handling of Expired Session
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Home management
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="Home.html">
            
                <a href="Home.html#home-management">
            
                    
                    Home Management Class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="Home.html">
            
                <a href="Home.html#home-information-management">
            
                    
                    Operation Class of Home
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="Home.html">
            
                <a href="Home.html#home-member-management">
            
                    
                    Home Member Management Class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="Home.html">
            
                <a href="Home.html#room-information-management">
            
                    
                    Room Management Class
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="Activator.html">
            
                <a href="Activator.html#network-configuration">
            
                    
                    Network Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="Activator.html">
            
                <a href="Activator.html#ez-mode">
            
                    
                    EZ mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="Activator.html">
            
                <a href="Activator.html#ap-mode">
            
                    
                    AP mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="Activator.html">
            
                <a href="Activator.html#wired-network-configuration-of-zigbee">
            
                    
                    Activate the ZigBee Gateway
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="Activator.html">
            
                <a href="Activator.html#activate-the-zigbee-sub-device">
            
                    
                    Activate the ZigBee sub-device
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="Device.html">
            
                <a href="Device.html#device-management">
            
                    
                    Device management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="Device.html">
            
                <a href="Device.html#update-device-information">
            
                    
                    Update device information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="Device.html">
            
                <a href="Device.html#device-control">
            
                    
                    Device Control
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.2.1" data-path="Device.html">
            
                <a href="Device.html#standard-device-control-beta">
            
                    
                    Standard Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2.2" data-path="Device.html">
            
                <a href="Device.html#custom-device-control">
            
                    
                    Custom Device Control
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="Device.html">
            
                <a href="Device.html#modify-the-device-name">
            
                    
                    Modify the device name
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="Device.html">
            
                <a href="Device.html#remove-device">
            
                    
                    Remove device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="Device.html">
            
                <a href="Device.html#obtain-wifi-signal-strength-of-device">
            
                    
                    Obtain Wifi signal strength of device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="Device.html">
            
                <a href="Device.html#obtain-the-sub-device-list-of-a-gateway">
            
                    
                    Obtain the sub-device list of a gateway
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="Device.html">
            
                <a href="Device.html#firmware-upgrade">
            
                    
                    Firmware upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="Share.html">
            
                <a href="Share.html#shared-devices">
            
                    
                    Share devices
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="Share.html">
            
                <a href="Share.html#add-device-share">
            
                    
                    Add device share
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="Share.html">
            
                <a href="Share.html#getting-shared-relationships">
            
                    
                    Getting Shared Relationships
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="Share.html">
            
                <a href="Share.html#remove-sharing">
            
                    
                    Remove Sharing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="Share.html">
            
                <a href="Share.html#modify-note-name">
            
                    
                    Modify Note Name
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="Group.html">
            
                <a href="Group.html">
            
                    
                    Group management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="DataChannel.html">
            
                <a href="DataChannel.html">
            
                    
                    Data channel
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Share devices</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="shared-devices"><a name="shared-devices" class="plugin-anchor" href="#shared-devices"><i class="fa fa-link" aria-hidden="true"></i></a>Shared devices</h2>
<p>Sometimes, you need to share some devices with your families, and they will solely have control permission to devices you have shared and cannot change names, remove devices, perform firmware upgrade and restore factory setting, etc. but send device control instructions and obtain status updating.</p>
<p>All functions related to device sharing correspond to the `WiserSmart HomeDeviceShare&apos;class</p>
<h3 id="add-device-share"><a name="add-device-share" class="plugin-anchor" href="#add-device-share"><i class="fa fa-link" aria-hidden="true"></i></a>Add device share</h3>
<h4 id="add-multiple-device-sharing-coverage"><a name="add-multiple-device-sharing-coverage" class="plugin-anchor" href="#add-multiple-device-sharing-coverage"><i class="fa fa-link" aria-hidden="true"></i></a>Add multiple device sharing (coverage)</h4>
<p>Sharing multiple devices to users will override all previous user sharing</p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc">
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addMemberShare <span class="token punctuation">{</span>
    <span class="token comment">//self.deviceShare  = [[WiserSmartHomeDeviceShare alloc] init];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>deviceShare addShareWithHomeId<span class="token punctuation">:</span>homeId countryCode<span class="token punctuation">:</span><span class="token string">@&quot;your_country_code&quot;</span> userAccount<span class="token punctuation">:</span><span class="token string">@&quot;user_account&quot;</span> devIds<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>NSString <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>WiserSmartShareMemberModel <span class="token operator">*</span>model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;addShare success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;addShare failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">addMemberShare</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    deviceShare<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>withHomeId<span class="token punctuation">:</span> homeId<span class="token punctuation">,</span> countryCode<span class="token punctuation">:</span> <span class="token string">&quot;your_country_code&quot;</span><span class="token punctuation">,</span> userAccount<span class="token punctuation">:</span> <span class="token string">&quot;user_account&quot;</span><span class="token punctuation">,</span> devIds<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;devIds&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>memberModel<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;addShare success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;addShare failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="add-shares-new-not-overwriting-old-shares"><a name="add-shares-new-not-overwriting-old-shares" class="plugin-anchor" href="#add-shares-new-not-overwriting-old-shares"><i class="fa fa-link" aria-hidden="true"></i></a>Add Shares (new, not overwriting old Shares)</h4>
<p>Sharing multiple devices to users will add the devices to all user shareing</p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc">
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addMemberShare <span class="token punctuation">{</span>
    <span class="token comment">//self.deviceShare  = [[WiserSmartHomeDeviceShare alloc] init];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>deviceShare addShareWithMemberId<span class="token punctuation">:</span>memberId devIds<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>NSString <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;addShare success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;addShare failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">addMemberShare</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    deviceShare<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>withMemberId<span class="token punctuation">:</span> memberId<span class="token punctuation">,</span> devIds<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;devIds&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;addShare success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;addShare failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="single-device-add-sharing"><a name="single-device-add-sharing" class="plugin-anchor" href="#single-device-add-sharing"><i class="fa fa-link" aria-hidden="true"></i></a>Single Device Add Sharing</h4>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc">
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addDeviceShare <span class="token punctuation">{</span>
     <span class="token comment">//self.deviceShare  = [[WiserSmartHomeDeviceShare alloc] init];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>deviceShare addDeviceShareWithHomeId<span class="token punctuation">:</span>homeId countryCode<span class="token punctuation">:</span><span class="token string">@&quot;country_code&quot;</span> userAccount<span class="token punctuation">:</span><span class="token string">@&quot;user_account&quot;</span> devId<span class="token punctuation">:</span><span class="token string">@&quot;dev_id&quot;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>WiserSmartShareMemberModel <span class="token operator">*</span>model<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;addDeviceShare success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;addDeviceShare failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">addDeviceShare</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    deviceShare<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>withHomeId<span class="token punctuation">:</span> homeId<span class="token punctuation">,</span> countryCode<span class="token punctuation">:</span> <span class="token string">&quot;country_code&quot;</span><span class="token punctuation">,</span> userAccount<span class="token punctuation">:</span> <span class="token string">&quot;user_account&quot;</span><span class="token punctuation">,</span> devId<span class="token punctuation">:</span> <span class="token string">&quot;dev_id&quot;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>model<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;addDeviceShare success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;addDeviceShare failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="getting-shared-relationships"><a name="getting-shared-relationships" class="plugin-anchor" href="#getting-shared-relationships"><i class="fa fa-link" aria-hidden="true"></i></a>Getting Shared Relationships</h3>
<h4 id="get-a-list-of-all-active-shared-users-in-the-home"><a name="get-a-list-of-all-active-shared-users-in-the-home" class="plugin-anchor" href="#get-a-list-of-all-active-shared-users-in-the-home"><i class="fa fa-link" aria-hidden="true"></i></a>Get a list of all active shared users in the home</h4>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc">
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getShareMemberList <span class="token punctuation">{</span>
    <span class="token comment">//self.deviceShare  = [[WiserSmartHomeDeviceShare alloc] init];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>deviceShare getShareMemberListWithHomeId<span class="token punctuation">:</span>homeId success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>WiserSmartShareMemberModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>list<span class="token punctuation">)</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;getShareMemberList success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;getShareMemberList failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getShareMemberList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    deviceShare<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getMemberList</span><span class="token punctuation">(</span>withHomeId<span class="token punctuation">:</span> homeId<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;getShareMemberList success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;getShareMemberList failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="get-a-list-of-all-shared-users-received"><a name="get-a-list-of-all-shared-users-received" class="plugin-anchor" href="#get-a-list-of-all-shared-users-received"><i class="fa fa-link" aria-hidden="true"></i></a>Get a list of all shared users received</h4>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc">
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getReceiveMemberList <span class="token punctuation">{</span>
    <span class="token comment">//self.deviceShare  = [[WiserSmartHomeDeviceShare alloc] init];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>deviceShare getReceiveMemberListWithSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>WiserSmartShareMemberModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;getReceiveMemberList success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;getReceiveMemberList failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getReceiveMemberList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    deviceShare<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getReceiveMemberList</span><span class="token punctuation">(</span>success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;getReceiveMemberList success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;getReceiveMemberList failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="obtaining-user-shared-data-that-is-actively-shared-by-a-single-user"><a name="obtaining-user-shared-data-that-is-actively-shared-by-a-single-user" class="plugin-anchor" href="#obtaining-user-shared-data-that-is-actively-shared-by-a-single-user"><i class="fa fa-link" aria-hidden="true"></i></a>Obtaining user-shared data that is actively shared by a single user</h4>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc">
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getShareMemberDetail <span class="token punctuation">{</span>
     <span class="token comment">//self.deviceShare  = [[WiserSmartHomeDeviceShare alloc] init];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>deviceShare getShareMemberDetailWithMemberId<span class="token punctuation">:</span>memberId success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>WiserSmartShareMemberDetailModel <span class="token operator">*</span>model<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;getShareMemberDetail success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;getShareMemberDetail failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getShareMemberDetail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    deviceShare<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getMemberDetail</span><span class="token punctuation">(</span>withMemberId<span class="token punctuation">:</span> memberId<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>model<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;getShareMemberDetail success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;getShareMemberDetail failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="getting-shared-data-from-a-single-recipient"><a name="getting-shared-data-from-a-single-recipient" class="plugin-anchor" href="#getting-shared-data-from-a-single-recipient"><i class="fa fa-link" aria-hidden="true"></i></a>Getting shared data from a single recipient</h4>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc">
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getReceiveMemberDetail <span class="token punctuation">{</span>
    <span class="token comment">//self.deviceShare  = [[WiserSmartHomeDeviceShare alloc] init];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>deviceShare getReceiveMemberDetailWithMemberId<span class="token punctuation">:</span>memberId success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>WiserSmartReceiveMemberDetailModel <span class="token operator">*</span>model<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;getReceiveMemberDetail success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;getReceiveMemberDetail failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getReceiveMemberDetail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    deviceShare<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getReceiveMemberDetail</span><span class="token punctuation">(</span>withMemberId<span class="token punctuation">:</span> memberId<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>model<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;getReceiveMemberDetail success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;getReceiveMemberDetail failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="get-a-single-device-shared-user-list"><a name="get-a-single-device-shared-user-list" class="plugin-anchor" href="#get-a-single-device-shared-user-list"><i class="fa fa-link" aria-hidden="true"></i></a>Get a single device shared user list</h4>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc">
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getDeviceShareMemberList <span class="token punctuation">{</span>
     <span class="token comment">//self.deviceShare  = [[WiserSmartHomeDeviceShare alloc] init];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>deviceShare getDeviceShareMemberListWithDevId<span class="token punctuation">:</span><span class="token string">@&quot;dev_id&quot;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>WiserSmartShareMemberModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;getDeviceShareMemberList success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;getDeviceShareMemberList failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getDeviceShareMemberList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    deviceShare<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getMemberList</span><span class="token punctuation">(</span>withDevId<span class="token punctuation">:</span> <span class="token string">&quot;dev_id&quot;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>model<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;getDeviceShareMemberList success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;getDeviceShareMemberList failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="who-shares-access-devices"><a name="who-shares-access-devices" class="plugin-anchor" href="#who-shares-access-devices"><i class="fa fa-link" aria-hidden="true"></i></a>Who Shares Access Devices</h4>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc">
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getShareInfo <span class="token punctuation">{</span>
     <span class="token comment">//self.deviceShare  = [[WiserSmartHomeDeviceShare alloc] init];</span>

     <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>deviceShare getShareInfoWithDevId<span class="token punctuation">:</span><span class="token string">@&quot;dev_id&quot;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>WiserSmartReceivedShareUserModel <span class="token operator">*</span>model<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get shareInfo success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get shareInfo failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getShareInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    deviceShare<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getInfoWithDevId</span><span class="token punctuation">(</span><span class="token string">&quot;dev_id&quot;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>model<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;getShareInfo success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;getShareInfo failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="remove-sharing"><a name="remove-sharing" class="plugin-anchor" href="#remove-sharing"><i class="fa fa-link" aria-hidden="true"></i></a>Remove Sharing</h3>
<h4 id="delete-active-sharers"><a name="delete-active-sharers" class="plugin-anchor" href="#delete-active-sharers"><i class="fa fa-link" aria-hidden="true"></i></a>Delete active Sharers</h4>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc">
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removeShareMember <span class="token punctuation">{</span>
     <span class="token comment">//self.deviceShare  = [[WiserSmartHomeDeviceShare alloc] init];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>deviceShare removeShareMemberWithMemberId<span class="token punctuation">:</span>memberId success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;removeShareMember success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;removeShareMember failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">removeShareMember</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    deviceShare<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">removeMember</span><span class="token punctuation">(</span>withMemberId<span class="token punctuation">:</span> memberId<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;removeShareMember success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;removeShareMember failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="delete-receiving-sharer"><a name="delete-receiving-sharer" class="plugin-anchor" href="#delete-receiving-sharer"><i class="fa fa-link" aria-hidden="true"></i></a>Delete Receiving Sharer</h4>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc">
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removeReceiveMember <span class="token punctuation">{</span>
     <span class="token comment">//self.deviceShare  = [[WiserSmartHomeDeviceShare alloc] init];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>deviceShare removeReceiveShareMemberWithMemberId<span class="token punctuation">:</span>memberId success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;removeReceiveMember success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;removeReceiveMember failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">removeReceiveMember</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    deviceShare<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">removeReceiveMember</span><span class="token punctuation">(</span>withMemberId<span class="token punctuation">:</span> memberId<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;removeReceiveMember success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;removeReceiveMember failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="single-device-remove-sharing"><a name="single-device-remove-sharing" class="plugin-anchor" href="#single-device-remove-sharing"><i class="fa fa-link" aria-hidden="true"></i></a>Single Device Remove Sharing</h4>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc">
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removeDeviceShare <span class="token punctuation">{</span>
     <span class="token comment">//self.deviceShare  = [[WiserSmartHomeDeviceShare alloc] init];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>deviceShare removeDeviceShareWithMemberId<span class="token punctuation">:</span>memberId devId<span class="token punctuation">:</span><span class="token string">@&quot;dev_id&quot;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;removeDeviceShare success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;removeDeviceShare failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

 <span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">removeDeviceShare</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    deviceShare<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>withMemberId<span class="token punctuation">:</span> memberId<span class="token punctuation">,</span> devId<span class="token punctuation">:</span> <span class="token string">&quot;dev_id&quot;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;removeDeviceShare success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;removeDeviceShare failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="remove-shared-devices-received"><a name="remove-shared-devices-received" class="plugin-anchor" href="#remove-shared-devices-received"><i class="fa fa-link" aria-hidden="true"></i></a>Remove shared devices received</h4>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc">
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removeDeviceShare <span class="token punctuation">{</span>
     <span class="token comment">//self.deviceShare  = [[WiserSmartHomeDeviceShare alloc] init];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>deviceShare removeReceiveDeviceShareWithDevId<span class="token punctuation">:</span><span class="token string">@&quot;dev_id&quot;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;removeDeviceShare success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;removeDeviceShare failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">removeDeviceShare</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    deviceShare<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">removeReceive</span><span class="token punctuation">(</span>withDevId<span class="token punctuation">:</span> <span class="token string">&quot;dev_id&quot;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;removeDeviceShare success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;removeDeviceShare failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="modify-note-name"><a name="modify-note-name" class="plugin-anchor" href="#modify-note-name"><i class="fa fa-link" aria-hidden="true"></i></a>Modify Note Name</h3>
<h4 id="modify-the-nickname-of-the-active-sharer"><a name="modify-the-nickname-of-the-active-sharer" class="plugin-anchor" href="#modify-the-nickname-of-the-active-sharer"><i class="fa fa-link" aria-hidden="true"></i></a>Modify the nickname of the active sharer</h4>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc">
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>updateShareMemberName <span class="token punctuation">{</span>
     <span class="token comment">//self.deviceShare  = [[WiserSmartHomeDeviceShare alloc] init];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>deviceShare renameShareMemberNameWithMemberId<span class="token punctuation">:</span>memberId name<span class="token punctuation">:</span><span class="token string">@&quot;new_name&quot;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;updateShareMemberName success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;updateShareMemberName failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">updateShareMemberName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    deviceShare<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">renameShareMemberName</span><span class="token punctuation">(</span>withMemberId<span class="token punctuation">:</span> <span class="token string">&quot;memberId&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">&quot;new_name&quot;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;updateShareMemberName success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;updateShareMemberName failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="modify-the-nickname-of-the-recipient-sharer"><a name="modify-the-nickname-of-the-recipient-sharer" class="plugin-anchor" href="#modify-the-nickname-of-the-recipient-sharer"><i class="fa fa-link" aria-hidden="true"></i></a>Modify the nickname of the recipient sharer</h4>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc">
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>updateReceiveMemberName <span class="token punctuation">{</span>
     <span class="token comment">//self.deviceShare  = [[WiserSmartHomeDeviceShare alloc] init];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>deviceShare renameReceiveShareMemberNameWithMemberId<span class="token punctuation">:</span>memberId name<span class="token punctuation">:</span><span class="token string">@&quot;new_name&quot;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;updateReceiveMemberName success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;updateReceiveMemberName failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">updateReceiveMemberName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    deviceShare<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">renameReceiveMemberName</span><span class="token punctuation">(</span>withMemberId<span class="token punctuation">:</span> memberId<span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">&quot;new_name&quot;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;updateReceiveMemberName success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;updateReceiveMemberName failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Device.html#firmware-upgrade" class="navigation navigation-prev " aria-label="Previous page: Firmware upgrade">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Share.html#add-device-share" class="navigation navigation-next " aria-label="Next page: Add device share">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Share devices","level":"1.8","depth":1,"next":{"title":"Add device share","level":"1.8.1","depth":2,"anchor":"#add-device-share","path":"resource/Share.md","ref":"./resource/Share.md#add-device-share","articles":[]},"previous":{"title":"Firmware upgrade","level":"1.7.7","depth":2,"anchor":"#firmware-upgrade","path":"resource/Device.md","ref":"./resource/Device.md#firmware-upgrade","articles":[]},"dir":"ltr"},"config":{"plugins":["js-sequence-diagram-full@>=0.3.1","prism","-highlight","anchors"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-okaidia.css"],"lang":{"oc":"objectivec","objc":"objectivec","objective-c":"objectivec"},"ignore":["sequence"]},"livereload":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"js-sequence-diagram-full":{},"fontsettings":{"theme":"white","family":"sans","size":2},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"resource/Share.md","mtime":"2019-12-30T07:32:23.955Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-03-25T08:08:39.003Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/sequence-diagram-min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

